+++
title = '正则笔记'
date = 2023-09-04T12:01:55+08:00
tags = ['regex']
categories = 'computer'
+++

正则表达式是初级的模式匹配，在字符串处理中有很重要的作用。

> 对于结构化文本，如 HTML XML JSON 等，使用对应的解析器更方便。
> 正则表达式更适用于非结构化文本，如自然语言段落。

<!--more-->

# 字符

使用正则表达式要与各种字符串打交道，主要是元字符、一般字符、限定符等。

## 元字符

元字符是一个字符模式，用于匹配符合该模式的字符。包括匹配字符和匹配位置两种。

匹配字符

-   `.` 换行符以外的所有字符
-   `\w` 字母、空格、下划线 `\W` 补集
-   `\s` 空格、制表符、换行符 `\S` 补集
-   `\d` 数字 `\D` 补集

匹配位置

-   `^`
-   `$`
-   `\b`

## 字符

一般字符简称字符，就是字面量。

字符类

-   `[string]` 匹配一个字符
-   `[^string]` 补集

转义字符

-   `\`

## 限定符

限定符就是量词。

-   `{n}` 重复 n 次
-   `{n,}` 至少重复 n 次
-   `{n,m}`
-   `*` 重复 0 次或多次
-   `+` 重复 1 次或多次
-   `?` 0 次或 1 次
-   `x?` 非贪婪匹配，x 表示以上限定符

# 运算

替换 `a|b`

分组 `(x)`

反向引用：分组从左到右遇到左括号开始从 1 编号，`\1`（有些地方使用 `$1`）引用第一个分组，不必重复编写。
只作为整体，不希望编号：`(?:x)`

常用分组

-   正向先行断言 `(?=x)`
-   负向先行断言 `(?!x)`
-   正向后行断言 `(?<=x)`
-   负向后行断言 `(?<!x)`
-   `(?>x)`

> 正向：是它；先行：后面；正向先行：后面是它。

（零宽）断言

-   `^` `$`
-   `\A`
-   `\z` `\Z`
-   `\G`
-   `\b` `\B`

优先级

1. 转义符 `\`
2. 圆括号和方括号
   `()` `(?:)` `(?=)` `[]`
3. 限定符
4. 位置和顺序
   `^` `$` 元字符
5. 或运算 `|`
